{% extends 'base.html' %}
{% block title %}Ajustes - Gamificaci√≥n UBE{% endblock %}
{% block contenido %}
<div class="fondo-blur ajustes-box" style="max-width:400px;margin:2em auto;padding:2.2em 2em 2.5em 2em;border-radius:22px;box-shadow:0 6px 36px #0002;">
  <h2 style="color:#c6002a;font-size:1.35em;margin-bottom:1.7em;">Ajustes de Usuario</h2>
  <form method="POST" enctype="multipart/form-data" style="display:flex;flex-direction:column;gap:1.4em;">
    <div>
      <label style="font-weight:bold;">Nombre:</label>
      <input type="text" name="nombre" value="{{ estudiante.nombre }}" maxlength="30" required
             style="width:100%;padding:0.45em 1em;border-radius:10px;border:1px solid #c6002a;">
      <button class="btn" type="submit" style="margin-top:0.9em;width:100%;">Guardar Nombre</button>
    </div>
    <div>
      <label style="font-weight:bold;">Foto de perfil personalizada:</label><br>
      {% if estudiante.avatar_personal %}
        <div style="margin-bottom:0.8em;text-align:center;">
          <img src="{{ url_for('static', filename='img/avatares/' + estudiante.avatar_personal) }}" class="avatar-inicio"
               style="width:78px;height:78px;border:3px solid #c6002a;border-radius:50%;background:#fff;">
        </div>
      {% endif %}
      <input type="file" name="avatar" accept="image/*"
             style="margin-bottom:0.6em;width:100%;font-size:0.98em;">
      <button class="btn" type="submit" style="width:100%;">Actualizar Foto</button>
    </div>
  </form>
  <form action="{{ url_for('resetear_progreso') }}" method="get"
        style="margin-top:2.1em;text-align:center;">
    <button type="submit" class="btn btn-danger"
            style="font-size:1em;padding:0.75em 2em;background:#bf0000;border-radius:11px;">
        Reiniciar progreso
    </button>
  </form>
</div>
{% endblock %}